<!DOCTYPE html><html class="wjs-MobileHeightFix"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>User</title><link rel="stylesheet" href="../css/user.css"></head><body><style>.header{height:72px;background-color:#3a80ba}.header__inner{margin:0 auto;height:100%;max-width:1220px;padding:0 20px}.header__logo{font-size:40px;color:#fff;padding-top:14px}</style><div class="header"><div class="header__inner"><div class="header__logo">AppCo</div></div></div><main class="main"><div class="main__inner"><div class="breadcrumbs"><a class="breadcrumbs__link" href="index.html">Main page</a><a class="breadcrumbs__link" href="usersList.html">User statistic</a><span class="breadcrumbs__page"></span></div><div class="h1AndDadepickerWrapper"><h1></h1><div class="datepickerWrapper"><style>.datepicker{color:#444;position:relative}.datepicker__panel{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}@media(min-width:700px){.datepicker__panel{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}}.datepicker__info-text{font-size:14px;white-space:nowrap;padding-bottom:10px}@media(min-width:700px){.datepicker__info-text{padding-bottom:0}}.datepicker__input-wrapper{border:1px solid #f1f1f1;border-radius:5px;height:32px;width:198px;position:relative;margin-left:9px;cursor:pointer}.datepicker__ico{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;background-color:#3a80ba;border:1px solid #3a80ba;border-radius:3px;position:absolute;top:50%;left:2px;-webkit-transform:translate(0,-50%);-ms-transform:translate(0,-50%);transform:translate(0,-50%)}.datepicker__ico svg{margin:auto}.datepicker__input{font:12px main;width:100%;height:100%;border:none;padding-left:34px;color:#444;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.datepicker__calender{display:none;width:242px;height:auto;min-height:243px;background:#fff;border:1px solid #f1f1f1;-webkit-box-shadow:0 4px 8px rgba(0,0,0,.08);box-shadow:0 4px 8px rgba(0,0,0,.08);border-radius:5px;margin-top:10px;padding:15px;position:absolute;z-index:1;right:0}@media(min-width:510px){.datepicker__calender{width:468px}}.datepicker__calender_active{display:block}.datepicker__calender:before{content:"";position:absolute;bottom:100%;right:170px;z-index:1;border-bottom:10px solid #f1f1f1;border-left:10px solid transparent;border-right:10px solid transparent}.datepicker__calender:after{content:"";position:absolute;bottom:calc(100% - 1px);right:170px;z-index:2;border-bottom:10px solid #fff;border-left:10px solid transparent;border-right:10px solid transparent}.datepicker__calenders-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}@media(min-width:510px){.datepicker__calenders-wrapper{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}}.datepicker__lists-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;width:210px;margin-bottom:4px}.datepicker__list-instance{width:103px;height:28px;border:1px solid #f1f1f1;border-radius:4px;position:relative;cursor:pointer}.datepicker__list-result{font-size:12px;padding:6px}.datepicker__list-btn{width:22px;height:22px;background-color:#3a80ba;border:1px solid #3a80ba;border-radius:3px;position:absolute;top:2px;right:2px;cursor:pointer}.datepicker__list-btn svg{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.datepicker__list{width:103px;border:1px solid #f1f1f1;-webkit-box-shadow:0 4px 8px rgba(0,0,0,.08);box-shadow:0 4px 8px rgba(0,0,0,.08);border-radius:4px;display:none;font-size:12px;background-color:#fff;position:relative;z-index:1}.datepicker__list_active{display:block}.datepicker__list-el{padding:6px;-webkit-transition:color .3s,background-color .3s;-o-transition:color .3s,background-color .3s;transition:color .3s,background-color .3s}.datepicker__list-el:hover{background-color:#3a80ba;color:#fff;-webkit-transition:color .3s,background-color .3s;-o-transition:color .3s,background-color .3s;transition:color .3s,background-color .3s}.datepicker__week-names{background-color:#3a80ba;color:#fff;font-size:10px;display:-ms-grid;display:grid;-ms-grid-columns:(30px)[7];grid-template-columns:repeat(7,30px);-webkit-box-align:center;-ms-flex-align:center;align-items:center;text-align:center;width:210px;height:18px;border-radius:5px;font-weight:100;margin-bottom:4px}.datepicker__week{font-size:12px;display:-ms-grid;display:grid;-ms-grid-columns:(30px)[7];grid-template-columns:repeat(7,30px);-webkit-box-align:center;-ms-flex-align:center;align-items:center;text-align:center;width:210px;height:20px;margin:2px 0}.datepicker__day{border-top:1px solid #f1f1f1;border-bottom:1px solid #f1f1f1;height:20px;padding-top:2px;cursor:pointer}.datepicker__day:hover{background-color:#3a80ba;color:#fff}.datepicker__day_first{border-left:1px solid #f1f1f1;border-radius:5px 0 0 5px}.datepicker__day_last{border-right:1px solid #f1f1f1;border-radius:0 5px 5px 0}.datepicker__day_range{border-color:#3a80ba}.datepicker__day_start-range{border-color:#3a80ba;border-left:1px solid #3a80ba;border-top-left-radius:5px;border-bottom-left-radius:5px;margin-left:2px}.datepicker__day_end-range{border-color:#3a80ba;border-right:1px solid #3a80ba;border-top-right-radius:5px;border-bottom-right-radius:5px;margin-right:2px}.datepicker__day_passive{color:#e0dfdf}.datepicker__day_before-range{border-right:1px solid #f1f1f1;border-top-right-radius:5px;border-bottom-right-radius:5px;margin-right:2px}.datepicker__day_after-range{border-left:1px solid #f1f1f1;border-top-left-radius:5px;border-bottom-left-radius:5px;margin-left:2px}.datepicker__btns-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-top:14px}.datepicker__btn{height:32px;border:1px solid transparent;border-radius:5px;font:14px main;color:#08203c;text-decoration:underline;background-color:transparent;cursor:pointer}.datepicker__btn_active{background-color:#3a80ba;color:#fff;text-decoration:none;padding:0 40px}.datepicker__or{padding:0 10px}</style><div class="datepicker"><div class="datepicker__panel"><div class="datepicker__info-text">Select date range</div><div class="datepicker__input-wrapper"><div class="datepicker__ico"><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.4444 2.55554H3.55556C2.69645 2.55554 2 3.25199 2 4.1111V15C2 15.8591 2.69645 16.5555 3.55556 16.5555H14.4444C15.3036 16.5555 16 15.8591 16 15V4.1111C16 3.25199 15.3036 2.55554 14.4444 2.55554Z" stroke="white" stroke-linecap="round" stroke-linejoin="round"></path><path d="M12.1111 1V4.11111" stroke="white" stroke-linecap="round" stroke-linejoin="round"></path><path d="M5.88892 1V4.11111" stroke="white" stroke-linecap="round" stroke-linejoin="round"></path><path d="M2 7.22217H16" stroke="white" stroke-linecap="round" stroke-linejoin="round"></path></svg></div><input class="datepicker__input" type="text" value="Feb 1, 2020 - Feb 7, 2020"></div></div><div class="datepicker__calender"><div class="datepicker__calenders-wrapper"><div class="datepicker__calender-col" data-role="start"><div class="datepicker__lists-wrapper"><div class="datepicker__list-instance" data-role="month"><div class="datepicker__list-result">February</div><button class="datepicker__list-btn" type="button" data-role="toggleList"><svg width="14" height="8" viewBox="0 0 14 8" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13 1L7 7L1 1" stroke="white" stroke-linecap="round"></path></svg></button><ul class="datepicker__list"><li class="datepicker__list-el">January</li><li class="datepicker__list-el">February</li><li class="datepicker__list-el">March</li><li class="datepicker__list-el">April</li><li class="datepicker__list-el">May</li><li class="datepicker__list-el">June</li><li class="datepicker__list-el">July</li><li class="datepicker__list-el">August</li><li class="datepicker__list-el">September</li><li class="datepicker__list-el">October</li><li class="datepicker__list-el">November</li><li class="datepicker__list-el">Decemder</li></ul></div><div class="datepicker__list-instance" data-role="year"><div class="datepicker__list-result">2020</div><button class="datepicker__list-btn" type="button" data-role="toggleList"><svg width="14" height="8" viewBox="0 0 14 8" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13 1L7 7L1 1" stroke="white" stroke-linecap="round"></path></svg></button><ul class="datepicker__list"><li class="datepicker__list-el">2018</li><li class="datepicker__list-el">2019</li><li class="datepicker__list-el">2020</li><li class="datepicker__list-el">2021</li><li class="datepicker__list-el">2022</li></ul></div></div><div class="datepicker__week-names"><div class="datepicker__day-name">Sun</div><div class="datepicker__day-name">Mon</div><div class="datepicker__day-name">Tue</div><div class="datepicker__day-name">Wed</div><div class="datepicker__day-name">Thu</div><div class="datepicker__day-name">Fri</div><div class="datepicker__day-name">Sat</div></div></div><div class="datepicker__calender-col" data-role="finish"><div class="datepicker__lists-wrapper"><div class="datepicker__list-instance" data-role="month"><div class="datepicker__list-result">February</div><button class="datepicker__list-btn" type="button" data-role="toggleList"><svg width="14" height="8" viewBox="0 0 14 8" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13 1L7 7L1 1" stroke="white" stroke-linecap="round"></path></svg></button><ul class="datepicker__list"><li class="datepicker__list-el">January</li><li class="datepicker__list-el">February</li><li class="datepicker__list-el">March</li><li class="datepicker__list-el">April</li><li class="datepicker__list-el">May</li><li class="datepicker__list-el">June</li><li class="datepicker__list-el">July</li><li class="datepicker__list-el">August</li><li class="datepicker__list-el">September</li><li class="datepicker__list-el">October</li><li class="datepicker__list-el">November</li><li class="datepicker__list-el">Decemder</li></ul></div><div class="datepicker__list-instance" data-role="year"><div class="datepicker__list-result">2020</div><button class="datepicker__list-btn" type="button" data-role="toggleList"><svg width="14" height="8" viewBox="0 0 14 8" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13 1L7 7L1 1" stroke="white" stroke-linecap="round"></path></svg></button><ul class="datepicker__list"><li class="datepicker__list-el">2018</li><li class="datepicker__list-el">2019</li><li class="datepicker__list-el">2020</li><li class="datepicker__list-el">2021</li><li class="datepicker__list-el">2022</li></ul></div></div><div class="datepicker__week-names"><div class="datepicker__day-name">Sun</div><div class="datepicker__day-name">Mon</div><div class="datepicker__day-name">Tue</div><div class="datepicker__day-name">Wed</div><div class="datepicker__day-name">Thu</div><div class="datepicker__day-name">Fri</div><div class="datepicker__day-name">Sat</div></div></div></div><div class="datepicker__btns-wrapper"><button class="datepicker__btn datepicker__btn_active" type="button" data-role="apply">Apply</button><div class="datepicker__or">or</div><button class="datepicker__btn" type="button" data-role="cancel">Cancel</button></div></div></div><script>'use strict';
////////////////////////////////////////////////////////////////////////////////
/* ↓↓↓ VARIABLES ↓↓↓ */
  const MONTH_ARR           = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],
        MONTH_ARR_FULL      = ['January','February','March','April','May','June','July','August','September','October','November','Decemder'],
        WEEK_IN_MILISECONDS = 604800000;
/* ↑↑↑ /VARIABLES ↑↑↑ */
////////////////////////////////////////////////////////////////////////////////
/* ↓↓↓ EVENT HANDLERS ↓↓↓ */
  document.addEventListener('click', clickHandler);
  document.addEventListener('DOMContentLoaded', ready);
/* ↑↑↑ /EVENT HANDLERS ↑↑↑ */
////////////////////////////////////////////////////////////////////////////////
/* ↓↓↓ FUNCTIONS DECLARATION ↓↓↓ */

  function ready() {
    const datepicker = document.querySelector('.datepicker');
    if ( datepicker ) {
      setDatepickerRange(datepicker);
    }
  }

  function clickHandler(event) {
    if ( event.target.closest('.datepicker') ) {
      handleCalenderClicks(event);
    }

    if ( !event.target.closest('.datepicker')
         && document.querySelector('.datepicker__calender_active') ) {
      const datepicker = document.querySelector('.datepicker__calender_active')
                                 .closest('.datepicker');
      toggleCalender(datepicker);
    }
  }

  function handleCalenderClicks(event) {
    const datepicker = event.target.closest('.datepicker');

    if ( event.target.closest('.datepicker__panel .datepicker__input-wrapper') ) {
      toggleCalender(datepicker);
    }

    if ( event.target.closest('[data-role="toggleList"]') ) {
      const calenderListInstance = event.target.closest('.datepicker__list-instance');
      toggleCalenderList(calenderListInstance);
    }

    if ( !event.target.closest('[data-role="toggleList"]')
         && document.querySelector('.datepicker__list_active') ) {
      const calenderListInstance = document.querySelector('.datepicker__list_active')
                                           .closest('.datepicker__list-instance');
      toggleCalenderList(calenderListInstance);
    }

    if ( event.target.closest('.datepicker__list-el') ) {
      selectListItem( datepicker, event.target.closest('.datepicker__list-el') );
    }

    if ( event.target.closest('.datepicker__day') ) {
      selectRange( datepicker, event.target.closest('.datepicker__day') );
    }
    if (event.target.closest('button.datepicker__btn[type="button"][data-role="cancel"]')) {
      toggleCalender(datepicker);
    }

    if (event.target.closest('button.datepicker__btn[type="button"][data-role="apply"]')) {
      applyNewRange(datepicker);
    }
  }

  function setDatepickerRange(datepicker, start, finish) {

    const finishDate     = finish || new Date(),
          finishDay      = finishDate.getDate(),
          finishMonth    = finishDate.getMonth(),
          finishMonthStr = MONTH_ARR[finishMonth],
          finishYear     = finishDate.getFullYear(),

          startDate      = start || new Date(finishDate - WEEK_IN_MILISECONDS),
          startDay       = startDate.getDate(),
          startMonth     = startDate.getMonth(),
          startMonthStr  = MONTH_ARR[startMonth],
          startYear      = startDate.getFullYear();

    const startDateStr   = `${startYear}-${startMonth+1}-${startDay}`,
          finishDateStr  = `${finishYear}-${finishMonth+1}-${finishDay}`,
          fulldateString = `${startMonthStr} ${startDay}, ${startYear} - ${finishMonthStr} ${finishDay}, ${finishYear}`;

    datepicker.querySelector('.datepicker__input').value = fulldateString;
    datepicker.setAttribute('data-startvalue', startDateStr);
    datepicker.setAttribute('data-finishvalue', finishDateStr);
  }

  function toggleCalender(datepicker) {
    datepicker.querySelector('.datepicker__calender')
              .classList.toggle('datepicker__calender_active');

    if ( document.querySelector('.datepicker__calender_active') ) {
      // now it's open, build calender
      const startValue     = datepicker.dataset.startvalue,
            finishValue    = datepicker.dataset.finishvalue,
            startDate      = new Date(startValue),
            finishDate     = new Date(finishValue),
            startYear      = startValue.slice(0,4),
            startMonthStr  = MONTH_ARR_FULL[ startDate.getMonth() ],
            finishYear     = finishValue.slice(0,4),
            finishMonthStr = MONTH_ARR_FULL[ finishDate.getMonth() ];

      datepicker.querySelector('.datepicker__calender-col[data-role="start"] .datepicker__list-instance[data-role="month"] .datepicker__list-result')
                .innerHTML = startMonthStr;
      datepicker.querySelector('.datepicker__calender-col[data-role="finish"] .datepicker__list-instance[data-role="month"] .datepicker__list-result')
                .innerHTML = finishMonthStr;
      datepicker.querySelector('.datepicker__calender-col[data-role="start"] .datepicker__list-instance[data-role="year"] .datepicker__list-result')
                .innerHTML = startYear;
      datepicker.querySelector('.datepicker__calender-col[data-role="finish"] .datepicker__list-instance[data-role="year"] .datepicker__list-result')
                .innerHTML = finishYear;

      const startMonthHTML = buildMonth(startDate);
      datepicker.querySelector('.datepicker__calender-col[data-role="start"] .datepicker__week-names')
                .insertAdjacentHTML('afterEnd', startMonthHTML);

      const finishMonthHTML = buildMonth(finishDate);
      datepicker.querySelector('.datepicker__calender-col[data-role="finish"] .datepicker__week-names')
                .insertAdjacentHTML('afterEnd', finishMonthHTML);

      showRange(datepicker);
    } else {
      closeCalender(datepicker);
    }
  }

  function toggleCalenderList(calenderListInstance) {
    const list       = calenderListInstance.querySelector('ul.datepicker__list'),
          openedList = document.querySelector('.datepicker__list_active');

    if (openedList && list !== openedList) {
      openedList.classList.remove('datepicker__list_active');
    }

    list.classList.toggle('datepicker__list_active');
  }

  function getNumberOfDaysInMonth(date) {
    date.setMonth( date.getMonth() + 1 );
    const lastDayInMonth = new Date( date.setDate(0) );
    const daysAmount = lastDayInMonth.getDate();

    return daysAmount;
  }

  function closeCalender(datepicker) {
    datepicker.querySelectorAll('.datepicker__list-result').forEach( item => {
     item.innerHTML = '';
    });
    datepicker.querySelectorAll('.datepicker__week').forEach( item => {
     item.remove();
    });
    const applyBtn = datepicker.querySelector('.datepicker__btn[data-role="apply"]');
    applyBtn.removeAttribute('data-startvalue');
    applyBtn.removeAttribute('data-finishvalue');
  }

  function buildMonth(date) {
    const firstDayWeekDay     = (new Date( date.setDate(1) )).getDay(),
          daysAmount          = getNumberOfDaysInMonth(date),
          prevMonthDate       = new Date( date.setMonth(date.getMonth() - 2) ),
          prevMonthDaysAmount = getNumberOfDaysInMonth(prevMonthDate);

    let monthHTML = '';
    const daysArr = [];

    if (firstDayWeekDay !== 0) {
      // 1-ше число місяця - не понеділок, отже в першому тижні будуть дні з
      // попереднього місяця
      const prevMonthMonday = prevMonthDaysAmount - firstDayWeekDay + 1;
      for (let i = prevMonthMonday; i < prevMonthDaysAmount+1; i++ ) {
        daysArr.push(i);
      }
    }

    for (let i = 1; i < daysAmount+1; i++) {
      daysArr.push(i);
    }

    let count = 0;
    while(daysArr.length%7 != 0) {
      daysArr.push(++count);
    }

    let weeksCount   = 0,
        currentMonth = false;
    for (let i = 0; i < daysArr.length; i++) {
      weeksCount++;

      if (daysArr[i] == 1 && currentMonth == true) {
        currentMonth = false;
      } else if (daysArr[i] == 1) {
        currentMonth = true;
      }

      if (weeksCount == 1) {
        monthHTML += '<div class="datepicker__week"><div class="datepicker__day datepicker__day_first';
        if (currentMonth) {
          monthHTML += '">' + daysArr[i] + '</div>';
        } else {
          monthHTML += ' datepicker__day_passive">' + daysArr[i] + '</div>';
        }
      } else if (weeksCount == 7) {
        monthHTML += '<div class="datepicker__day datepicker__day_last';
        if (currentMonth) {
          monthHTML += '">' + daysArr[i] + '</div></div>';
        } else {
          monthHTML += ' datepicker__day_passive">' + daysArr[i] + '</div></div>';
        }
        weeksCount = 0;
      } else {
        monthHTML += '<div class="datepicker__day';
        if (currentMonth) {
          monthHTML += '">' + daysArr[i] + '</div>';
        } else {
          monthHTML += ' datepicker__day_passive">' + daysArr[i] + '</div>';
        }
      }
    }
    return monthHTML;
  }

  function selectListItem(datepicker, item) {
    const value              = item.innerHTML,
          instance           = item.closest('.datepicker__list-instance'),
          resultField        = instance.querySelector('.datepicker__list-result'),
          calenderColumn     = instance.closest('.datepicker__calender-col'),
          calenderColumnType = calenderColumn.dataset.role,
          date               = datepicker.dataset[`${calenderColumnType}value`];

    resultField.innerHTML = value;

    let newDateStr = '';
    if( +value ) {
      // year
      newDateStr = value + date.slice(4);
    } else {
      // month
      let monthNumber = getMonthNumber(value);
      newDateStr = date.replace(/-\d+-/iu, '-' + monthNumber + '-');
    }

    // datepicker.setAttribute(`data-${calenderColumnType}value`, newDateStr);

    const monthHTML = buildMonth( new Date(newDateStr) );
    if ( calenderColumn.querySelector('.datepicker__week') ) {
      const weeksArr = calenderColumn.querySelectorAll('.datepicker__week');
      weeksArr.forEach( week => week.remove() );
    }
    calenderColumn.querySelector('.datepicker__week-names')
                  .insertAdjacentHTML('afterEnd', monthHTML);

    if(date == newDateStr) {
      showRange(datepicker);
    }
  }

  function showRange(datepicker, start, finish) {
    const startDateStr  = start || datepicker.dataset.startvalue,
          finishDateStr = finish || datepicker.dataset.finishvalue,
          startDate     = new Date(startDateStr),
          startYear     = startDate.getFullYear(),
          startMonth    = startDate.getMonth(),
          startDay      = startDate.getDate(),
          finishDate    = new Date(finishDateStr),
          finishYear    = finishDate.getFullYear(),
          finishMonth   = finishDate.getMonth(),
          finishDay     = finishDate.getDate();

    if (startDate > finishDate) {
      // тут ще треба продумати поведінку
      removeRange(datepicker);
      // setDatepickerRange(datepicker)
      return;
    }

    if ( startMonth == finishMonth && startYear == finishYear ) {
      // the range is completely located in one month
      const startColumn = datepicker.querySelector('.datepicker__calender-col[data-role="start"]'),
            days        = startColumn.querySelectorAll('.datepicker__day');

      days.forEach( (day, dayI) => {
        if ( !day.classList.contains('datepicker__day_passive')
             && day.innerHTML == startDay) {
          day.classList.add('datepicker__day_start-range');
        }
        if ( !day.classList.contains('datepicker__day_passive')
             && day.innerHTML == finishDay) {
          day.classList.add('datepicker__day_end-range');
        }
        if ( !day.classList.contains('datepicker__day_passive')
             && day.innerHTML > startDay
             && day.innerHTML < finishDay) {
          day.classList.add('datepicker__day_range');
        }

        if ( (startDay == 1 && dayI > 0)
             || (startDay != 1 && day.innerHTML == startDay - 1 ) ) {
          day.classList.add('datepicker__day_before-range');
        }
        if ( (day.innerHTML - 1 == finishDay && !day.classList.contains('datepicker__day_passive'))
             || (day.innerHTML == 1 && day.classList.contains('datepicker__day_passive')) ) {
          day.classList.add('datepicker__day_after-range');
        }
      });
    } else {
      const startColumn  = datepicker.querySelector('.datepicker__calender-col[data-role="start"]'),
            startDays    = startColumn.querySelectorAll('.datepicker__day'),
            finishColumn = datepicker.querySelector('.datepicker__calender-col[data-role="finish"]'),
            finishDays   = finishColumn.querySelectorAll('.datepicker__day'),
            startMonth   = startColumn.querySelector('.datepicker__list-instance[data-role="month"] .datepicker__list-result').innerHTML,
            startYear    = startColumn.querySelector('.datepicker__list-instance[data-role="year"] .datepicker__list-result').innerHTML,
            finishMonth  = finishColumn.querySelector('.datepicker__list-instance[data-role="month"] .datepicker__list-result').innerHTML,
            finishYear   = finishColumn.querySelector('.datepicker__list-instance[data-role="year"] .datepicker__list-result').innerHTML;

      const startYearFromStr  = startDateStr.slice(0,4),
            startMonthFromStr = startDateStr.split('-',2)[1];
      let startMonthNumber = getMonthNumber(startMonth);

      if(startYearFromStr == startYear && startMonthFromStr == startMonthNumber) {
        let maxStartI = 0;
        startDays.forEach( (day, dayI) => {
          if ( !day.classList.contains('datepicker__day_passive') ) {
            maxStartI = dayI;
          }
        });
        startDays.forEach( (day, dayI) => {
          if ( day.innerHTML == startDay
               && !day.classList.contains('datepicker__day_passive')) {
            day.classList.add('datepicker__day_start-range');
          }
          if ( day.innerHTML > startDay
               && !day.classList.contains('datepicker__day_passive')) {
            day.classList.add('datepicker__day_range');
          }
          if ( dayI > maxStartI
               && day.classList.contains('datepicker__day_passive')) {
            day.classList.add('datepicker__day_range');
          }
        });
      }

      const finishYearFromStr  = finishDateStr.slice(0,4),
            finishMonthFromStr = finishDateStr.split('-',2)[1];
      let finishMonthNumber = getMonthNumber(finishMonth);

      if(finishYearFromStr == finishYear && finishMonthFromStr == finishMonthNumber) {
        let minFinishI = 0;
        finishDays.forEach( (day, dayI) => {
          if ( !day.classList.contains('datepicker__day_passive') && day.innerHTML == 1 ) {
            minFinishI = dayI;
          }
        });
        finishDays.forEach( (day, dayI) => {
          if ( day.innerHTML == finishDay
               && !day.classList.contains('datepicker__day_passive')) {
            day.classList.add('datepicker__day_end-range');
          }
          if ( day.innerHTML < finishDay
               && !day.classList.contains('datepicker__day_passive')) {
            day.classList.add('datepicker__day_range');
          }
          if ( dayI < minFinishI
               && day.classList.contains('datepicker__day_passive')) {
            day.classList.add('datepicker__day_range');
          }
        });
      }
    }
  }

  function removeRange(datepicker) {
    const daysArr = datepicker.querySelectorAll('.datepicker__day');
    daysArr.forEach( day => {
      day.classList.remove('datepicker__day_before-range');
      day.classList.remove('datepicker__day_start-range');
      day.classList.remove('datepicker__day_range');
      day.classList.remove('datepicker__day_end-range');
      day.classList.remove('datepicker__day_after-range');
    } );
  }

  function selectRange(datepicker, day) {
    const calencerColumn = day.closest('.datepicker__calender-col'),
          newDay         = day.innerHTML,
          newMonthStr    = calencerColumn.querySelector('.datepicker__list-instance[data-role="month"] .datepicker__list-result').innerHTML,
          newYear        = calencerColumn.querySelector('.datepicker__list-instance[data-role="year"] .datepicker__list-result').innerHTML,
          applyBtn       = datepicker.querySelector('.datepicker__btn[data-role="apply"]');

    const newMonth = getMonthNumber(newMonthStr);
    const newDateStr = `${newYear}-${newMonth}-${newDay}`;

    let startDateStr, finishDateStr;
    startDateStr = applyBtn.dataset.startvalue;
    if (!startDateStr) {
      startDateStr = newDateStr;
      applyBtn.setAttribute('data-startvalue', startDateStr);
    } else {
      finishDateStr = newDateStr;
      applyBtn.setAttribute('data-finishvalue', finishDateStr);

      if( new Date(finishDateStr) < new Date(startDateStr) ) {
        finishDateStr = startDateStr;
        startDateStr = newDateStr;
        applyBtn.setAttribute('data-startvalue', startDateStr);
        applyBtn.setAttribute('data-finishvalue', finishDateStr);
      }

      removeRange(datepicker);
      showRange(datepicker, startDateStr, finishDateStr);
    }
  }

  function getMonthNumber(monthName) {
    let monthNumber;
    for (let i = 0; i < MONTH_ARR_FULL.length; i++) {
      if ( MONTH_ARR_FULL[i] == monthName ) {
        monthNumber = i + 1;
        break;
      }
    }
    return monthNumber;
  }

  function applyNewRange(datepicker) {
    const applyBtn      = datepicker.querySelector('.datepicker__btn[data-role="apply"]'),
          startDateStr  = applyBtn.dataset.startvalue,
          finishDateStr = applyBtn.dataset.finishvalue;

    if (!startDateStr || !finishDateStr) return;

    datepicker.setAttribute('data-startvalue', startDateStr);
    datepicker.setAttribute('data-finishvalue', finishDateStr);

    setDatepickerRange( datepicker, new Date(startDateStr), new Date(finishDateStr) );

    toggleCalender(datepicker);
  }
/* ↑↑↑ /FUNCTIONS DECLARATION ↑↑↑ */
////////////////////////////////////////////////////////////////////////////////</script></div></div><div class="graphicWrapper"><h3 class="graphicName">Clicks</h3><div class="graphic" id="clicksGraphic"></div></div><div class="graphicWrapper"><h3 class="graphicName">Vievs</h3><div class="graphic" id="viewsGraphic"></div></div></div></main><style>.footer{height:117px;background-color:#1c3b55;color:#fff}@media(min-width:600px){.footer{height:57px}}.footer__inner{margin:0 auto;padding:0 20px;height:100%;max-width:1220px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly}@media(min-width:600px){.footer__inner{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}}.footer__logo{font-size:24px}.footer__rights{font-size:16px}</style><div class="footer"><div class="footer__inner"><div class="footer__logo">AppCo</div><div class="footer__rights">All rights reserved by ThemeTags</div><div class="footer__rights">Copyrights © 2019.</div></div></div><script defer="defer" src="../js-libs/anychart-base.min.js"></script><script defer="defer" src="../js/user.js"></script></body></html>